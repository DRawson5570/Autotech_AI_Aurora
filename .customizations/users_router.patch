diff --git a/backend/open_webui/routers/users.py b/backend/open_webui/routers/users.py
index 8eb4b5d..0a2860f 100644
--- a/backend/open_webui/routers/users.py
+++ b/backend/open_webui/routers/users.py
@@ -1,6 +1,5 @@
 import logging
 from typing import Optional
-from sqlalchemy.orm import Session
 import base64
 import io
 
@@ -30,7 +29,6 @@ from open_webui.models.users import (
 
 from open_webui.constants import ERROR_MESSAGES
 from open_webui.env import STATIC_DIR
-from open_webui.internal.db import get_session
 
 
 from open_webui.utils.auth import (
@@ -62,7 +60,6 @@ async def get_users(
     direction: Optional[str] = None,
     page: Optional[int] = 1,
     user=Depends(get_admin_user),
-    db: Session = Depends(get_session),
 ):
     limit = PAGE_ITEM_COUNT
 
@@ -77,23 +74,19 @@ async def get_users(
     if direction:
         filter["direction"] = direction
 
-    filter["direction"] = direction
-
-    result = Users.get_users(filter=filter, skip=skip, limit=limit, db=db)
+    result = Users.get_users(filter=filter, skip=skip, limit=limit)
 
     users = result["users"]
     total = result["total"]
 
-    # Fetch groups for all users in a single query to avoid N+1
-    user_ids = [user.id for user in users]
-    user_groups = Groups.get_groups_by_member_ids(user_ids, db=db)
-
     return {
         "users": [
             UserGroupIdsModel(
                 **{
                     **user.model_dump(),
-                    "group_ids": [group.id for group in user_groups.get(user.id, [])],
+                    "group_ids": [
+                        group.id for group in Groups.get_groups_by_member_id(user.id)
+                    ],
                 }
             )
             for user in users
@@ -105,9 +98,8 @@ async def get_users(
 @router.get("/all", response_model=UserInfoListResponse)
 async def get_all_users(
     user=Depends(get_admin_user),
-    db: Session = Depends(get_session),
 ):
-    return Users.get_users(db=db)
+    return Users.get_users()
 
 
 @router.get("/search", response_model=UserInfoListResponse)
@@ -117,13 +109,16 @@ async def search_users(
     direction: Optional[str] = None,
     page: Optional[int] = 1,
     user=Depends(get_verified_user),
-    db: Session = Depends(get_session),
 ):
     limit = PAGE_ITEM_COUNT
 
     page = max(1, page)
     skip = (page - 1) * limit
 
+    filter = {}
+    if query:
+        filter["query"] = query
+
     filter = {}
     if query:
         filter["query"] = query
@@ -132,7 +127,7 @@ async def search_users(
     if direction:
         filter["direction"] = direction
 
-    return Users.get_users(filter=filter, skip=skip, limit=limit, db=db)
+    return Users.get_users(filter=filter, skip=skip, limit=limit)
 
 
 ############################
@@ -141,10 +136,8 @@ async def search_users(
 
 
 @router.get("/groups")
-async def get_user_groups(
-    user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
-    return Groups.get_groups_by_member_id(user.id, db=db)
+async def get_user_groups(user=Depends(get_verified_user)):
+    return Groups.get_groups_by_member_id(user.id)
 
 
 ############################
@@ -153,13 +146,9 @@ async def get_user_groups(
 
 
 @router.get("/permissions")
-async def get_user_permissisions(
-    request: Request,
-    user=Depends(get_verified_user),
-    db: Session = Depends(get_session),
-):
+async def get_user_permissisions(request: Request, user=Depends(get_verified_user)):
     user_permissions = get_permissions(
-        user.id, request.app.state.config.USER_PERMISSIONS, db=db
+        user.id, request.app.state.config.USER_PERMISSIONS
     )
 
     return user_permissions
@@ -226,11 +215,6 @@ class FeaturesPermissions(BaseModel):
     web_search: bool = True
     image_generation: bool = True
     code_interpreter: bool = True
-    memories: bool = True
-
-
-class SettingsPermissions(BaseModel):
-    interface: bool = True
 
 
 class UserPermissions(BaseModel):
@@ -238,7 +222,6 @@ class UserPermissions(BaseModel):
     sharing: SharingPermissions
     chat: ChatPermissions
     features: FeaturesPermissions
-    settings: SettingsPermissions
 
 
 @router.get("/default/permissions", response_model=UserPermissions)
@@ -256,9 +239,6 @@ async def get_default_user_permissions(request: Request, user=Depends(get_admin_
         "features": FeaturesPermissions(
             **request.app.state.config.USER_PERMISSIONS.get("features", {})
         ),
-        "settings": SettingsPermissions(
-            **request.app.state.config.USER_PERMISSIONS.get("settings", {})
-        ),
     }
 
 
@@ -276,10 +256,8 @@ async def update_default_user_permissions(
 
 
 @router.get("/user/settings", response_model=Optional[UserSettings])
-async def get_user_settings_by_session_user(
-    user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
-    user = Users.get_user_by_id(user.id, db=db)
+async def get_user_settings_by_session_user(user=Depends(get_verified_user)):
+    user = Users.get_user_by_id(user.id)
     if user:
         return user.settings
     else:
@@ -296,17 +274,12 @@ async def get_user_settings_by_session_user(
 
 @router.post("/user/settings/update", response_model=UserSettings)
 async def update_user_settings_by_session_user(
-    request: Request,
-    form_data: UserSettings,
-    user=Depends(get_verified_user),
-    db: Session = Depends(get_session),
+    request: Request, form_data: UserSettings, user=Depends(get_verified_user)
 ):
     updated_user_settings = form_data.model_dump()
-    ui_settings = updated_user_settings.get("ui")
     if (
         user.role != "admin"
-        and ui_settings is not None
-        and "toolServers" in ui_settings.keys()
+        and "toolServers" in updated_user_settings.get("ui").keys()
         and not has_permission(
             user.id,
             "features.direct_tool_servers",
@@ -316,7 +289,7 @@ async def update_user_settings_by_session_user(
         # If the user is not an admin and does not have permission to use tool servers, remove the key
         updated_user_settings["ui"].pop("toolServers", None)
 
-    user = Users.update_user_settings_by_id(user.id, updated_user_settings, db=db)
+    user = Users.update_user_settings_by_id(user.id, updated_user_settings)
     if user:
         return user.settings
     else:
@@ -332,17 +305,8 @@ async def update_user_settings_by_session_user(
 
 
 @router.get("/user/status")
-async def get_user_status_by_session_user(
-    request: Request,
-    user=Depends(get_verified_user),
-    db: Session = Depends(get_session),
-):
-    if not request.app.state.config.ENABLE_USER_STATUS:
-        raise HTTPException(
-            status_code=status.HTTP_403_FORBIDDEN,
-            detail=ERROR_MESSAGES.ACTION_PROHIBITED,
-        )
-    user = Users.get_user_by_id(user.id, db=db)
+async def get_user_status_by_session_user(user=Depends(get_verified_user)):
+    user = Users.get_user_by_id(user.id)
     if user:
         return user
     else:
@@ -359,19 +323,11 @@ async def get_user_status_by_session_user(
 
 @router.post("/user/status/update")
 async def update_user_status_by_session_user(
-    request: Request,
-    form_data: UserStatus,
-    user=Depends(get_verified_user),
-    db: Session = Depends(get_session),
+    form_data: UserStatus, user=Depends(get_verified_user)
 ):
-    if not request.app.state.config.ENABLE_USER_STATUS:
-        raise HTTPException(
-            status_code=status.HTTP_403_FORBIDDEN,
-            detail=ERROR_MESSAGES.ACTION_PROHIBITED,
-        )
-    user = Users.get_user_by_id(user.id, db=db)
+    user = Users.get_user_by_id(user.id)
     if user:
-        user = Users.update_user_status_by_id(user.id, form_data, db=db)
+        user = Users.update_user_status_by_id(user.id, form_data)
         return user
     else:
         raise HTTPException(
@@ -386,10 +342,8 @@ async def update_user_status_by_session_user(
 
 
 @router.get("/user/info", response_model=Optional[dict])
-async def get_user_info_by_session_user(
-    user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
-    user = Users.get_user_by_id(user.id, db=db)
+async def get_user_info_by_session_user(user=Depends(get_verified_user)):
+    user = Users.get_user_by_id(user.id)
     if user:
         return user.info
     else:
@@ -406,16 +360,14 @@ async def get_user_info_by_session_user(
 
 @router.post("/user/info/update", response_model=Optional[dict])
 async def update_user_info_by_session_user(
-    form_data: dict, user=Depends(get_verified_user), db: Session = Depends(get_session)
+    form_data: dict, user=Depends(get_verified_user)
 ):
-    user = Users.get_user_by_id(user.id, db=db)
+    user = Users.get_user_by_id(user.id)
     if user:
         if user.info is None:
             user.info = {}
 
-        user = Users.update_user_by_id(
-            user.id, {"info": {**user.info, **form_data}}, db=db
-        )
+        user = Users.update_user_by_id(user.id, {"info": {**user.info, **form_data}})
         if user:
             return user.info
         else:
@@ -440,14 +392,16 @@ class UserActiveResponse(UserStatus):
     profile_image_url: Optional[str] = None
     groups: Optional[list] = []
 
+    # Contact fields
+    phone: Optional[str] = None
+    address: Optional[str] = None
+
     is_active: bool
     model_config = ConfigDict(extra="allow")
 
 
 @router.get("/{user_id}", response_model=UserActiveResponse)
-async def get_user_by_id(
-    user_id: str, user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
+async def get_user_by_id(user_id: str, user=Depends(get_verified_user)):
     # Check if user_id is a shared chat
     # If it is, get the user_id from the chat
     if user_id.startswith("shared-"):
@@ -461,14 +415,14 @@ async def get_user_by_id(
                 detail=ERROR_MESSAGES.USER_NOT_FOUND,
             )
 
-    user = Users.get_user_by_id(user_id, db=db)
+    user = Users.get_user_by_id(user_id)
     if user:
-        groups = Groups.get_groups_by_member_id(user_id, db=db)
+        groups = Groups.get_groups_by_member_id(user_id)
         return UserActiveResponse(
             **{
                 **user.model_dump(),
                 "groups": [{"id": group.id, "name": group.name} for group in groups],
-                "is_active": Users.is_user_active(user_id, db=db),
+                "is_active": Users.is_user_active(user_id),
             }
         )
     else:
@@ -479,10 +433,8 @@ async def get_user_by_id(
 
 
 @router.get("/{user_id}/oauth/sessions")
-async def get_user_oauth_sessions_by_id(
-    user_id: str, user=Depends(get_admin_user), db: Session = Depends(get_session)
-):
-    sessions = OAuthSessions.get_sessions_by_user_id(user_id, db=db)
+async def get_user_oauth_sessions_by_id(user_id: str, user=Depends(get_admin_user)):
+    sessions = OAuthSessions.get_sessions_by_user_id(user_id)
     if sessions and len(sessions) > 0:
         return sessions
     else:
@@ -498,10 +450,8 @@ async def get_user_oauth_sessions_by_id(
 
 
 @router.get("/{user_id}/profile/image")
-async def get_user_profile_image_by_id(
-    user_id: str, user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
-    user = Users.get_user_by_id(user_id, db=db)
+async def get_user_profile_image_by_id(user_id: str, user=Depends(get_verified_user)):
+    user = Users.get_user_by_id(user_id)
     if user:
         if user.profile_image_url:
             # check if it's url or base64
@@ -515,12 +465,11 @@ async def get_user_profile_image_by_id(
                     header, base64_data = user.profile_image_url.split(",", 1)
                     image_data = base64.b64decode(base64_data)
                     image_buffer = io.BytesIO(image_data)
-                    media_type = header.split(";")[0].lstrip("data:")
 
                     return StreamingResponse(
                         image_buffer,
-                        media_type=media_type,
-                        headers={"Content-Disposition": "inline"},
+                        media_type="image/png",
+                        headers={"Content-Disposition": "inline; filename=image.png"},
                     )
                 except Exception as e:
                     pass
@@ -538,11 +487,9 @@ async def get_user_profile_image_by_id(
 
 
 @router.get("/{user_id}/active", response_model=dict)
-async def get_user_active_status_by_id(
-    user_id: str, user=Depends(get_verified_user), db: Session = Depends(get_session)
-):
+async def get_user_active_status_by_id(user_id: str, user=Depends(get_verified_user)):
     return {
-        "active": Users.is_user_active(user_id, db=db),
+        "active": Users.is_user_active(user_id),
     }
 
 
@@ -556,11 +503,10 @@ async def update_user_by_id(
     user_id: str,
     form_data: UserUpdateForm,
     session_user=Depends(get_admin_user),
-    db: Session = Depends(get_session),
 ):
     # Prevent modification of the primary admin user by other admins
     try:
-        first_user = Users.get_first_user(db=db)
+        first_user = Users.get_first_user()
         if first_user:
             if user_id == first_user.id:
                 if session_user.id != user_id:
@@ -584,11 +530,11 @@ async def update_user_by_id(
             detail="Could not verify primary admin status.",
         )
 
-    user = Users.get_user_by_id(user_id, db=db)
+    user = Users.get_user_by_id(user_id)
 
     if user:
         if form_data.email.lower() != user.email:
-            email_user = Users.get_user_by_email(form_data.email.lower(), db=db)
+            email_user = Users.get_user_by_email(form_data.email.lower())
             if email_user:
                 raise HTTPException(
                     status_code=status.HTTP_400_BAD_REQUEST,
@@ -602,9 +548,9 @@ async def update_user_by_id(
                 raise HTTPException(400, detail=str(e))
 
             hashed = get_password_hash(form_data.password)
-            Auths.update_user_password_by_id(user_id, hashed, db=db)
+            Auths.update_user_password_by_id(user_id, hashed)
 
-        Auths.update_email_by_id(user_id, form_data.email.lower(), db=db)
+        Auths.update_email_by_id(user_id, form_data.email.lower())
         updated_user = Users.update_user_by_id(
             user_id,
             {
@@ -612,8 +558,9 @@ async def update_user_by_id(
                 "name": form_data.name,
                 "email": form_data.email.lower(),
                 "profile_image_url": form_data.profile_image_url,
+                "phone": getattr(form_data, 'phone', None),
+                "address": getattr(form_data, 'address', None),
             },
-            db=db,
         )
 
         if updated_user:
@@ -636,12 +583,10 @@ async def update_user_by_id(
 
 
 @router.delete("/{user_id}", response_model=bool)
-async def delete_user_by_id(
-    user_id: str, user=Depends(get_admin_user), db: Session = Depends(get_session)
-):
+async def delete_user_by_id(user_id: str, user=Depends(get_admin_user)):
     # Prevent deletion of the primary admin user
     try:
-        first_user = Users.get_first_user(db=db)
+        first_user = Users.get_first_user()
         if first_user and user_id == first_user.id:
             raise HTTPException(
                 status_code=status.HTTP_403_FORBIDDEN,
@@ -655,7 +600,7 @@ async def delete_user_by_id(
         )
 
     if user.id != user_id:
-        result = Auths.delete_auth_by_id(user_id, db=db)
+        result = Auths.delete_auth_by_id(user_id)
 
         if result:
             return True
@@ -678,7 +623,5 @@ async def delete_user_by_id(
 
 
 @router.get("/{user_id}/groups")
-async def get_user_groups_by_id(
-    user_id: str, user=Depends(get_admin_user), db: Session = Depends(get_session)
-):
-    return Groups.get_groups_by_member_id(user_id, db=db)
+async def get_user_groups_by_id(user_id: str, user=Depends(get_admin_user)):
+    return Groups.get_groups_by_member_id(user_id)
